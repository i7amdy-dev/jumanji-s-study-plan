<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadan Study Timetable</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#08071a;--mid:#0f0d28;--card:#151230;--dim:#2e2a5a;
  --gold:#c9941e;--gold2:#f0c857;--text:#ede9ff;--muted:#7a72a8;
  --oc-bg:#0e2a1a;--oc-b:#3ecf7a;
  --op-bg:#0b1e38;--op-b:#4aa8f0;
  --pc-bg:#122218;--pc-b:#2eb866;
  --pp-bg:#0d1a30;--pp-b:#3590d8;
  --pm-bg:#1e133a;--pm-b:#9b6ef0;
  --pa-bg:#1e1206;--pa-b:#d4843a;
  --pe-bg:#1a0c2a;--pe-b:#c060e8;
  --of-bg:#201208;--of-b:#e08840;
  --if-bg:#201a02;--if-b:#f0bf30;
  --sl-bg:#0c0b1e;--sl-b:#2a2650;
  --fr-bg:#111028;--fr-b:#3a3660;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Tajawal',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}
#bg{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
#bg::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 70% 45% at 50% 0%,#1a0838 0%,transparent 65%),radial-gradient(ellipse 50% 35% at 85% 5%,#0c1840 0%,transparent 55%),linear-gradient(180deg,#07051a 0%,#08071a 50%,#0a0820 100%)}
.star{position:absolute;border-radius:50%;background:#fff;animation:tw var(--dur) ease-in-out infinite var(--del)}
@keyframes tw{0%,100%{opacity:var(--a);transform:scale(1)}50%{opacity:var(--b);transform:scale(.5)}}
.moon-wrap{position:absolute;top:30px;right:100px}
.moon{width:85px;height:85px;border-radius:50%;background:radial-gradient(circle at 33% 33%,#fff5c0,#d4a030 55%,#9a6810);box-shadow:0 0 35px 8px rgba(212,168,48,.3),0 0 70px 18px rgba(212,168,48,.12);animation:mg 4s ease-in-out infinite}
.moon-cut{position:absolute;top:6px;right:-12px;width:72px;height:72px;border-radius:50%;background:#07051a}
@keyframes mg{0%,100%{box-shadow:0 0 35px 8px rgba(212,168,48,.3),0 0 70px 18px rgba(212,168,48,.12)}50%{box-shadow:0 0 55px 14px rgba(212,168,48,.45),0 0 100px 28px rgba(212,168,48,.2)}}
.lan{position:absolute;top:-15px;transform-origin:top center;animation:sw var(--sp) ease-in-out infinite var(--sd)}
@keyframes sw{0%,100%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}}
.geo{position:absolute;top:0;left:0;right:0;height:5px;background:repeating-linear-gradient(90deg,var(--gold) 0 10px,var(--gold2) 10px 16px,#4aa8f0 16px 26px,var(--gold2) 26px 32px,var(--gold) 32px 42px,transparent 42px 52px)}
.mosque{position:absolute;bottom:0;left:50%;transform:translateX(-50%);opacity:.05;pointer-events:none}
.wrap{position:relative;z-index:1;padding:16px 12px 80px;max-width:1600px;margin:0 auto}
.hdr{text-align:center;padding:50px 0 32px}
.ar{font-family:'Amiri',serif;font-size:1.7rem;color:var(--gold);letter-spacing:4px;margin-bottom:8px}
.hdr h1{font-family:'Amiri',serif;font-size:clamp(2rem,5vw,3.6rem);color:var(--gold2);text-shadow:0 0 40px rgba(212,168,48,.35);margin-bottom:10px}
.hdrsub{font-size:.78rem;color:var(--muted);letter-spacing:3px;text-transform:uppercase}
.gline{width:180px;height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:18px auto}
.stats{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:28px}
.sp{background:var(--card);border:1px solid var(--dim);border-radius:18px;padding:7px 18px;font-size:.76rem;color:var(--muted)}
.sp strong{color:var(--gold2)}
.leg-wrap{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:24px}
.leg{display:flex;align-items:center;gap:6px;font-size:.72rem;color:var(--muted);background:var(--card);padding:5px 11px;border-radius:10px;border:1px solid var(--dim)}
.ld{width:8px;height:8px;border-radius:50%}
.orn{text-align:center;color:var(--gold);opacity:.45;letter-spacing:8px;font-size:1.1rem;margin:14px 0}
.tabs{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:24px}
.tab{padding:8px 20px;border-radius:20px;border:1px solid var(--dim);background:transparent;color:var(--muted);font-family:'Tajawal',sans-serif;font-size:.8rem;cursor:pointer;transition:all .2s}
.tab.on,.tab:hover{background:linear-gradient(135deg,#a07010,var(--gold));border-color:var(--gold);color:#07051a;font-weight:700}
.tt-scroll{overflow-x:auto}
table.tt{border-collapse:separate;border-spacing:3px;width:100%;min-width:960px}
table.tt thead th{background:var(--card);padding:13px 6px;text-align:center;border-radius:10px 10px 0 0;border-bottom:2px solid var(--gold)}
.th-d{font-family:'Amiri',serif;font-size:.95rem;color:var(--gold2)}
.th-t{font-size:.6rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-top:3px}
.tc{background:var(--mid);width:70px;text-align:right;padding-right:9px;font-size:.63rem;color:var(--muted);font-weight:500;border-radius:5px;vertical-align:middle}
td.s{border-radius:7px;padding:6px 8px 6px 12px;vertical-align:top;position:relative;overflow:hidden;transition:transform .15s,box-shadow .15s;cursor:default;min-width:118px}
td.s:hover{transform:scale(1.018);box-shadow:0 6px 28px rgba(0,0,0,.65);z-index:5}
td.s::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;border-radius:3px 0 0 3px}
td.s::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.04) 0%,transparent 55%);pointer-events:none}
.st{font-weight:600;font-size:.7rem;color:var(--text);line-height:1.35}
.ss{font-size:.6rem;color:var(--muted);margin-top:2px}
.sb{display:inline-block;font-size:.57rem;padding:1px 6px;border-radius:7px;margin-top:4px;font-weight:700;text-transform:uppercase;letter-spacing:.4px}
.oc{background:var(--oc-bg)}.oc::before{background:var(--oc-b)}
.op{background:var(--op-bg)}.op::before{background:var(--op-b)}
.pc{background:var(--pc-bg)}.pc::before{background:var(--pc-b)}
.pp{background:var(--pp-bg)}.pp::before{background:var(--pp-b)}
.pm{background:var(--pm-bg)}.pm::before{background:var(--pm-b)}
.pa{background:var(--pa-bg)}.pa::before{background:var(--pa-b)}
.pe{background:var(--pe-bg)}.pe::before{background:var(--pe-b)}
.of{background:var(--of-bg)}.of::before{background:var(--of-b)}
.ift{background:var(--if-bg)}.ift::before{background:var(--if-b)}
.sl{background:var(--sl-bg)}.sl::before{background:var(--sl-b)}
.fr{background:var(--fr-bg)}.fr::before{background:var(--fr-b)}
.rt{background:#0f1a10}.rt::before{background:#3a7a4a}
.qr{background:#1a1404}.qr::before{background:#c9941e}
.boc{background:rgba(62,207,122,.15);color:#3ecf7a}.bop{background:rgba(74,168,240,.15);color:#4aa8f0}
.bpc{background:rgba(46,184,102,.15);color:#2eb866}.bpp{background:rgba(53,144,216,.15);color:#3590d8}
.bpm{background:rgba(155,110,240,.15);color:#9b6ef0}.bpa{background:rgba(212,132,58,.15);color:#d4843a}
.bpe{background:rgba(192,96,232,.15);color:#c060e8}.bof{background:rgba(224,136,64,.15);color:#e08840}
.bif{background:rgba(240,191,48,.15);color:#f0bf30}.bsl{background:rgba(42,38,80,.4);color:#5a5488}
.bfr{background:rgba(58,54,96,.3);color:#7a72a8}.brt{background:rgba(58,122,74,.2);color:#3a7a4a}.bqr{background:rgba(201,148,30,.2);color:#c9941e}
.prog{max-width:960px;margin:44px auto 0;background:var(--card);border-radius:16px;padding:26px;border:1px solid var(--dim)}
.prog-h{font-family:'Amiri',serif;font-size:1.35rem;color:var(--gold);text-align:center;margin-bottom:22px}
.prog-g{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px}
.pc-card{background:var(--mid);border-radius:11px;padding:16px;border:1px solid var(--dim)}
.pc-card h3{font-size:.8rem;font-weight:600;margin-bottom:13px;color:var(--text)}
.pr{display:flex;align-items:center;gap:9px;margin-bottom:9px}
.prl{font-size:.68rem;color:var(--muted);width:80px;flex-shrink:0}
.prb{flex:1;height:7px;background:#0d0c20;border-radius:4px;overflow:hidden;cursor:pointer}
.prf{height:100%;border-radius:4px;transition:width .4s ease;width:0%}
.prc{font-size:.66rem;color:var(--muted);width:36px;text-align:right;flex-shrink:0}
.notes{max-width:960px;margin:18px auto 0;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:11px}
.note{background:var(--card);border-radius:11px;padding:13px 15px;border-left:3px solid var(--gold);font-size:.76rem;color:var(--muted);line-height:1.65}
.note strong{display:block;color:var(--gold2);margin-bottom:5px;font-size:.8rem}
@media(max-width:720px){table.tt{min-width:700px}td.s{min-width:88px}.ss,.sb{display:none}}

/* ‚ïê‚ïê DAY VIEW ‚ïê‚ïê */
.view-toggle{display:flex;gap:0;justify-content:center;margin-bottom:28px;border:1px solid var(--dim);border-radius:22px;overflow:hidden;max-width:320px;margin-left:auto;margin-right:auto}
.vt-btn{flex:1;padding:9px 0;background:transparent;color:var(--muted);border:none;font-family:'Tajawal',sans-serif;font-size:.82rem;cursor:pointer;transition:all .2s}
.vt-btn.on{background:linear-gradient(135deg,#a07010,var(--gold));color:#07051a;font-weight:700}
#week-view,#day-view{display:none}
#week-view.active,#day-view.active{display:block}
.day-nav{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:20px}
.day-nav button{background:var(--card);border:1px solid var(--dim);color:var(--gold2);width:36px;height:36px;border-radius:50%;font-size:1.1rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}
.day-nav button:hover{background:var(--gold);color:#07051a;border-color:var(--gold)}
.day-nav-label{font-family:'Amiri',serif;font-size:1.3rem;color:var(--gold2);min-width:220px;text-align:center}
.day-nav-sub{font-size:.7rem;color:var(--muted);text-align:center;margin-bottom:16px;letter-spacing:1px;text-transform:uppercase}
.day-timeline{max-width:700px;margin:0 auto;position:relative}
.day-timeline::before{content:'';position:absolute;left:88px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,transparent,var(--dim) 5%,var(--dim) 95%,transparent)}
.day-block{display:flex;align-items:flex-start;gap:0;margin-bottom:4px;position:relative}
.day-block-time{width:80px;flex-shrink:0;text-align:right;padding-right:16px;padding-top:10px;font-size:.65rem;color:var(--muted);font-weight:600;letter-spacing:.5px}
.day-block-dot{width:18px;flex-shrink:0;display:flex;justify-content:center;padding-top:13px;position:relative;z-index:1}
.day-block-dot span{width:8px;height:8px;border-radius:50%;display:block;border:2px solid var(--bg)}
.day-block-card{flex:1;margin-left:12px;border-radius:10px;padding:10px 14px;position:relative;overflow:hidden;transition:transform .15s;cursor:default}
.day-block-card:hover{transform:translateX(3px)}
.day-block-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;border-radius:3px 0 0 3px}
.day-block-card::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.04) 0%,transparent 55%);pointer-events:none}
.dbc-title{font-weight:600;font-size:.8rem;color:var(--text)}
.dbc-sub{font-size:.66rem;color:var(--muted);margin-top:3px}
.dbc-badge{display:inline-block;font-size:.58rem;padding:2px 7px;border-radius:7px;margin-top:5px;font-weight:700;text-transform:uppercase;letter-spacing:.4px}
.conflict-banner{background:#2a0a0a;border:1px solid #7a1a1a;border-radius:10px;padding:10px 16px;margin-bottom:16px;max-width:700px;margin-left:auto;margin-right:auto;font-size:.76rem;color:#f08080;display:none}
.conflict-banner.show{display:block}
.conflict-banner strong{color:#ff8080}
</style>
</head>
<body>
<div id="bg">
  <div class="geo"></div>
  <div class="moon-wrap"><div class="moon"></div><div class="moon-cut"></div></div>
  <div class="lan" style="left:4%;--sp:5s;--sd:0s">
    <svg width="26" height="56" viewBox="0 0 26 56"><line x1="13" y1="0" x2="13" y2="7" stroke="#c9941e" stroke-width="1.5"/><path d="M7 7 Q13 5 19 7 L21 16 Q13 20 5 16Z" fill="#c9941e" opacity=".9"/><rect x="5" y="16" width="16" height="22" rx="2" fill="#c9941e" opacity=".85"/><rect x="7" y="18" width="12" height="18" rx="1" fill="#fff8dc" opacity=".45"/><path d="M5 38 Q13 42 21 38 L19 47 Q13 49 7 47Z" fill="#c9941e" opacity=".9"/><line x1="13" y1="47" x2="13" y2="55" stroke="#c9941e" stroke-width="1"/></svg>
  </div>
  <div class="lan" style="left:13%;--sp:6.5s;--sd:.9s">
    <svg width="20" height="44" viewBox="0 0 20 44"><line x1="10" y1="0" x2="10" y2="6" stroke="#c9941e" stroke-width="1.5"/><path d="M5 6 Q10 4 15 6 L17 13 Q10 16 3 13Z" fill="#4aa8f0" opacity=".9"/><rect x="3" y="13" width="14" height="16" rx="2" fill="#4aa8f0" opacity=".85"/><rect x="5" y="15" width="10" height="12" rx="1" fill="#e0f4ff" opacity=".4"/><path d="M3 29 Q10 33 17 29 L15 37 Q10 39 5 37Z" fill="#4aa8f0" opacity=".9"/><line x1="10" y1="37" x2="10" y2="43" stroke="#c9941e" stroke-width="1"/></svg>
  </div>
  <div class="lan" style="right:5%;--sp:4.5s;--sd:.4s">
    <svg width="24" height="52" viewBox="0 0 24 52"><line x1="12" y1="0" x2="12" y2="7" stroke="#c9941e" stroke-width="1.5"/><path d="M6 7 Q12 5 18 7 L20 15 Q12 19 4 15Z" fill="#9b6ef0" opacity=".9"/><rect x="4" y="15" width="16" height="20" rx="2" fill="#9b6ef0" opacity=".85"/><rect x="6" y="17" width="12" height="16" rx="1" fill="#f0e8ff" opacity=".4"/><path d="M4 35 Q12 39 20 35 L18 44 Q12 46 6 44Z" fill="#9b6ef0" opacity=".9"/><line x1="12" y1="44" x2="12" y2="51" stroke="#c9941e" stroke-width="1"/></svg>
  </div>
  <div class="lan" style="right:16%;--sp:5.8s;--sd:1.5s">
    <svg width="18" height="40" viewBox="0 0 18 40"><line x1="9" y1="0" x2="9" y2="6" stroke="#c9941e" stroke-width="1.5"/><path d="M4 6 Q9 4 14 6 L16 12 Q9 15 2 12Z" fill="#c9941e" opacity=".9"/><rect x="2" y="12" width="14" height="14" rx="2" fill="#c9941e" opacity=".85"/><rect x="4" y="14" width="10" height="10" rx="1" fill="#fff8dc" opacity=".5"/><path d="M2 26 Q9 30 16 26 L14 34 Q9 36 4 34Z" fill="#c9941e" opacity=".9"/><line x1="9" y1="34" x2="9" y2="39" stroke="#c9941e" stroke-width="1"/></svg>
  </div>
  <svg class="mosque" width="800" height="200" viewBox="0 0 800 200" fill="white">
    <rect x="0" y="155" width="800" height="45"/><ellipse cx="400" cy="155" rx="90" ry="60"/>
    <rect x="310" y="155" width="180" height="45"/><ellipse cx="240" cy="168" rx="58" ry="40"/>
    <rect x="182" y="168" width="116" height="32"/><ellipse cx="560" cy="168" rx="58" ry="40"/>
    <rect x="502" y="168" width="116" height="32"/><rect x="138" y="100" width="15" height="100"/>
    <ellipse cx="145" cy="100" rx="8" ry="16"/><rect x="647" y="100" width="15" height="100"/>
    <ellipse cx="654" cy="100" rx="8" ry="16"/><rect x="70" y="125" width="10" height="75"/>
    <ellipse cx="75" cy="125" rx="5" ry="10"/><rect x="720" y="125" width="10" height="75"/>
    <ellipse cx="725" cy="125" rx="5" ry="10"/><text x="391" y="105" font-size="24" fill="white">‚òΩ</text>
  </svg>
</div>

<div class="wrap">
  <div class="hdr">
    <div class="ar">ÿ±ŸÖÿ∂ÿßŸÜ ŸÉÿ±ŸäŸÖ</div>
    <h1>Ramadan Study Timetable</h1>
    <div class="gline"></div>
    <div class="hdrsub">Full Weekly Schedule ¬∑ All 5 Subjects ¬∑ Zero Empty Slots ¬∑ 40-Day Catch-up</div>
  </div>
  <div class="stats">
    <div class="sp">üß™ Chem online late: <strong>9 lecs √ó 5h = 45h</strong></div>
    <div class="sp">‚öõÔ∏è Physics online late: <strong>9 lecs √ó 5h = 45h</strong></div>
    <div class="sp">üìÖ Deadline: <strong>~40 days</strong></div>
    <div class="sp">üìñ Quran: <strong>5:00‚Äì5:30 PM daily</strong></div>
    <div class="sp">üìö Subjects: <strong>Chem ¬∑ Phys ¬∑ Math ¬∑ Arabic ¬∑ English</strong></div>
  </div>
  <div class="leg-wrap">
    <div class="leg"><div class="ld" style="background:var(--oc-b)"></div>Online Chem</div>
    <div class="leg"><div class="ld" style="background:var(--op-b)"></div>Online Physics</div>
    <div class="leg"><div class="ld" style="background:var(--pc-b)"></div>Chem Practice</div>
    <div class="leg"><div class="ld" style="background:var(--pp-b)"></div>Physics Practice</div>
    <div class="leg"><div class="ld" style="background:var(--pm-b)"></div>Math Practice</div>
    <div class="leg"><div class="ld" style="background:var(--pa-b)"></div>Arabic Practice</div>
    <div class="leg"><div class="ld" style="background:var(--pe-b)"></div>English Practice</div>
    <div class="leg"><div class="ld" style="background:var(--of-b)"></div>Offline Session</div>
    <div class="leg"><div class="ld" style="background:#c9941e"></div>üìñ Quran</div><div class="leg"><div class="ld" style="background:var(--if-b)"></div>üåô Iftar</div>
    <div class="leg"><div class="ld" style="background:#3a7a4a"></div>üõãÔ∏è Rest</div>
    <div class="leg"><div class="ld" style="background:var(--sl-b)"></div>Sleep / Pre-day</div>
    <div class="leg"><div class="ld" style="background:var(--fr-b)"></div>Free / Wind Down</div>
  </div>
  <div class="orn">‚ú¶ ‚úß ‚ú¶ ‚úß ‚ú¶</div>

  <!-- Exchange Rule Banner -->
  <div style="max-width:860px;margin:0 auto 22px;background:linear-gradient(135deg,#1a1206,#201a04);border:1.5px solid var(--gold);border-radius:14px;padding:16px 22px;display:flex;gap:16px;align-items:flex-start">
    <div style="font-size:1.5rem;flex-shrink:0;margin-top:2px">üîÑ</div>
    <div>
      <div style="font-family:'Amiri',serif;font-size:1rem;color:var(--gold2);margin-bottom:6px;font-weight:700">Slot Exchange Rule</div>
      <div style="font-size:.78rem;color:var(--text);line-height:1.75">
        <span style="color:#3ecf7a;font-weight:700">‚úÖ Allowed:</span> You may freely swap any <strong style="color:var(--text)">HW / Practice</strong> slot with another HW / Practice slot on a different day ‚Äî e.g. move Math Practice from Saturday to Sunday, or swap Arabic Practice with English Practice.<br>
        <span style="color:#ff6b6b;font-weight:700">üö´ Not allowed:</span> <strong style="color:var(--text)">Offline Sessions</strong> (Chemistry, Math, Arabic, English ‚Äî the live/in-person blocks) are <em>fixed and cannot be moved or exchanged</em>. Their timing is set by your teacher/centre.
      </div>
    </div>
  </div>
  <div class="view-toggle">
    <button class="vt-btn on" id="btn-week" onclick="switchView('week')">üìÖ Week View</button>
    <button class="vt-btn" id="btn-day" onclick="switchView('day')">üìÜ Day View</button>
  </div>

  <!-- Week tabs (inside week-view) -->
  <div id="week-view" class="active">
    <div class="tabs">
      <button class="tab on" onclick="show(1,this)">Weeks 1‚Äì2 ¬∑ Chem Ch3 + Phys Ch3</button>
      <button class="tab" onclick="show(2,this)">Weeks 3‚Äì4 ¬∑ Chem Ch4 + Phys Ch4</button>
      <button class="tab" onclick="show(3,this)">Week 5‚Äì6 ¬∑ On Track üéâ</button>
    </div>
    <div class="tt-scroll"><div id="tt"></div></div>
  </div>

  <!-- Day view -->
  <div id="day-view">
    <div class="conflict-banner" id="conflict-banner">
      ‚ö†Ô∏è <strong>Conflict detected:</strong> <span id="conflict-msg"></span> ‚Äî shifted by 1 hour automatically.
    </div>
    <div class="day-nav">
      <button onclick="prevDay()">‚Äπ</button>
      <div class="day-nav-label" id="day-nav-label">Saturday</div>
      <button onclick="nextDay()">‚Ä∫</button>
    </div>
    <div class="day-nav-sub" id="day-nav-sub">Offline Day ¬∑ Starts 12:00 PM</div>
    <div class="day-timeline" id="day-timeline"></div>
  </div>
  <div class="orn" style="margin-top:36px">‚ú¶ ‚úß ‚ú¶ ‚úß ‚ú¶</div>
  <div class="prog">
    <div class="prog-h">üìö Online Lecture Tracker</div>
    <div class="prog-g">
      <div class="pc-card">
        <h3>üß™ Chemistry (Online)</h3>
        <div class="pr"><span class="prl">Chapter 3</span><div class="prb" id="c3b"><div class="prf" id="c3f" style="background:var(--oc-b)"></div></div><span class="prc" id="c3t">0/5</span></div>
        <div class="pr"><span class="prl">Chapter 4</span><div class="prb" id="c4b"><div class="prf" id="c4f" style="background:var(--oc-b)"></div></div><span class="prc" id="c4t">0/4</span></div>
      </div>
      <div class="pc-card">
        <h3>‚öõÔ∏è Physics (Online)</h3>
        <div class="pr"><span class="prl">Chapter 3</span><div class="prb" id="p3b"><div class="prf" id="p3f" style="background:var(--op-b)"></div></div><span class="prc" id="p3t">0/6</span></div>
        <div class="pr"><span class="prl">Chapter 4</span><div class="prb" id="p4b"><div class="prf" id="p4f" style="background:var(--op-b)"></div></div><span class="prc" id="p4t">0/3</span></div>
      </div>
      <div class="pc-card">
        <h3>üåô Overall (18 online lectures)</h3>
        <div class="pr"><span class="prl">Total</span><div class="prb"><div class="prf" id="totf" style="background:var(--gold)"></div></div><span class="prc" id="tott">0/18</span></div>
        <div style="font-size:.7rem;color:var(--muted);margin-top:10px;line-height:1.7">Each online lecture = <strong style="color:var(--text)">5 hours</strong>.<br>Click bar ‚Üí +1 done &nbsp;|&nbsp; Right-click ‚Üí undo.</div>
      </div>
    </div>
  </div>
  <div class="notes">
    <div class="note"><strong>üìñ Quran 5:00‚Äì5:30 PM</strong>Daily Quran recitation before every Iftar. Non-negotiable spiritual anchor.</div><div class="note"><strong>üïå Iftar 5:30‚Äì7:30 PM</strong>Every day (7:00 PM on Sat/Mon/Wed ‚Äî Math day exception). Sacred family time.</div>
    <div class="note"><strong>üò¥ Sleep / Pre-day slots</strong>The dark slots before your day starts (before 12 PM on Sat/Mon/Wed/Fri, before 10 AM on Sun/Tue/Thu) are sleep time ‚Äî Ramadan nights are late!</div>
    <div class="note"><strong>üÜì Free / Rest slots</strong>Light-coloured evening slots are genuine downtime ‚Äî Quran, prayer, relaxing. Don't study here.</div>
    <div class="note"><strong>‚è± Breaks Baked In</strong>Every practice hour = 45 min work + 15 min rest absorbed. No separate break block needed.</div>
    <div class="note"><strong>üéØ Catch-up</strong>Sun/Tue/Thu mornings + Fri afternoon = 4 full lectures/week. 18 √∑ 4 = done in ~5 weeks ‚úì</div>
  </div>
</div>

<script>
(function(){
  const bg=document.getElementById('bg');
  [[8,7,1.4],[14,18,1],[24,4,2],[33,13,1],[43,7,1.6],[54,16,.9],[64,5,2],[74,10,1.1],
   [84,6,1.5],[92,20,1],[6,32,.9],[19,38,1.2],[29,28,1],[48,35,.8],[59,26,1.2],
   [69,33,1],[79,40,.9],[91,28,1.5],[9,52,1],[21,58,.8],[37,48,1.2],[51,53,1],
   [67,46,1.5],[77,56,.8],[87,50,1.1],[11,68,.9],[27,70,1.1],[43,66,1],[61,72,.8],
   [81,68,1.2],[95,13,1],[3,16,.8],[16,2,1.1],[41,2,1],[57,11,.8],[71,2,1.4],[89,16,.9]
  ].forEach(([x,y,r])=>{
    const el=document.createElement('div');el.className='star';
    el.style.cssText=`left:${x}%;top:${y}%;width:${r*2}px;height:${r*2}px;--dur:${(2+Math.random()*4).toFixed(1)}s;--del:${(Math.random()*5).toFixed(1)}s;--a:${(0.4+Math.random()*.6).toFixed(1)};--b:${(0.05+Math.random()*.15).toFixed(1)}`;
    bg.appendChild(el);
  });
})();

const H=52;
const HOURS=["10 AM","11 AM","12 PM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM"];
const DAYS=["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"];
const DTYPE=["Offline Day","Free Day","Offline Day","Free Day","Offline Day","Free Day","Rest Day"];
// Day start hour index (0=10AM): SAT=2, SUN=0, MON=2, TUE=0, WED=2, THU=0, FRI=2
const DS=[2,0,2,0,2,0,2];

// All slots: [day, hStart, hDur, css, title, sub, badgeCss, badgeText]
// hStart is 0-based from 10AM. So h=0‚Üí10AM, h=2‚Üí12PM, h=8‚Üí6PM, h=9.5‚Üí7:30PM etc.
// RULES FIXED:
//   - ALL days: Quran h7-7.5 (5-5:30PM). Iftar h7.5-9.5 (5:30-7:30PM).
//   - Pre-day hours (before DS[d]) ‚Üí Sleep slot
//   - All real gaps filled: SUN h10.5-12, TUE h10.5-12, THU h10.5-12 ‚Üí free/rest slots
//   - End of night h13-14 ‚Üí sleep

function makeData(w){
  const C=w===1?["Chem Ch3 (Late)","Phys Ch3 (Late)"]:w===2?["Chem Ch4 (Late)","Phys Ch4 (Late)"]:["Online Chem (Current)","Online Physics (Current)"];
  return [
    // ‚ïê‚ïê SATURDAY (start h=2 = 12PM) ‚Äî Offline Day ‚ïê‚ïê
    // Sessions: Offline Chem ‚Üí Chem Practice (1.5h) ‚úì before Mon Chem
    // Offline Math ‚Üí Math Practice (1.5h) ‚úì before Mon Math
    // Offline Arabic ‚Üí Arabic Practice goes to Sunday (before Mon Arabic)
    [0, 2,   3,   "of",  "Offline Chemistry",       "12:00 ‚Äì 3:00 PM ¬∑ Main session",      "bof","session"],
    [0, 5,   1,   "pc",  "Chemistry Practice",      "3:00 ‚Äì 4:00 PM ¬∑ HW & classwork",    "bpc","practice"],
    [0, 6,   1,   "of",  "Offline Arabic",          "4:00 ‚Äì 5:00 PM ¬∑ Session",            "bof","session"],
    [0, 7,   2,   "ift", "üåô Iftar & Quran",        "5:00 ‚Äì 7:00 PM ¬∑ Family & recitation","bif","iftar"],
    [0, 9,   1,   "of",  "Offline Math",            "7:00 ‚Äì 8:00 PM ¬∑ session",            "bof","session"],
    [0,10,   1.5, "pm",  "Math Practice",           "8:00 ‚Äì 9:30 PM ¬∑ HW & classwork",    "bpm","practice"],
    [0,12,   1,   "fr",  "üéØ Your Time",             "10:00 ‚Äì 11:00 PM ¬∑ use as you wish",  "bfr","free"],
    [0,13,   1,   "sl",  "Sleep",                   "11:00 PM onward",                     "bsl","sleep"],

    // ‚ïê‚ïê SUNDAY (start h=0 = 10AM) ‚Äî Online Day ‚ïê‚ïê
    // After Online Chem ‚Üí Chem Practice (1.5h) ‚úì before Mon Chem
    // Arabic Practice (1.5h) after iftar ‚úì before Mon Arabic (covers Sat Arabic session)
    [1, 0,   5,   "oc",  C[0]+" ¬∑ Full Lecture",    "10:00 AM ‚Äì 3:00 PM ¬∑ 5h",             "boc","online"],
    [1, 5,   1.5, "pp",  "Physics Practice",        "3:00 ‚Äì 4:30 PM ¬∑ HW & classwork",    "bpp","practice"],
    [1, 6.5, 0.5, "fr",  "üéØ Your Time",             "4:30 ‚Äì 5:00 PM ¬∑ use as you wish",    "bfr","free"],
    [1, 7,   2,   "ift", "üåô Iftar & Quran",        "5:00 ‚Äì 7:00 PM ¬∑ Family & recitation","bif","iftar"],
    [1, 9,   1,   "pp",  "Physics Practice",        "7:00 ‚Äì 8:00 PM ¬∑ HW & classwork",    "bpp","practice"],
    [1,10,   1,   "pa",  "Arabic Practice",         "8:00 ‚Äì 9:00 PM ¬∑ covers Sat session", "bpa","practice"],
    [1,11,   1,   "fr",  "üéØ Your Time",             "9:00 ‚Äì 10:00 PM ¬∑ use as you wish",   "bfr","free"],
    [1,12,   1,   "of",  "Offline English",         "10:00 ‚Äì 11:00 PM ¬∑ session",          "bof","session"],
    [1,13,   1,   "sl",  "Sleep",                   "11:00 PM onward",                     "bsl","sleep"],

    // ‚ïê‚ïê MONDAY (start h=2 = 12PM) ‚Äî Offline Day ‚ïê‚ïê
    // Offline Chem ‚Üí Chem Practice (1.5h) ‚úì before Wed Chem
    // Offline Arabic ‚Üí Arabic Practice (1.5h) ‚úì before Wed Arabic
    // Offline Math ‚Üí Math Practice goes to Tuesday (before Wed Math)
    [2, 2,   3,   "of",  "Offline Chemistry",       "12:00 ‚Äì 3:00 PM ¬∑ Main session",      "bof","session"],
    [2, 5,   1,   "pc",  "Chemistry Practice",      "3:00 ‚Äì 4:00 PM ¬∑ quick HW",           "bpc","practice"],
    [2, 6,   1,   "of",  "Offline Arabic",          "4:00 ‚Äì 5:00 PM ¬∑ Session",            "bof","session"],
    [2, 7,   2,   "ift", "üåô Iftar & Quran",        "5:00 ‚Äì 7:00 PM ¬∑ Family & recitation","bif","iftar"],
    [2, 9,   1,   "of",  "Offline Math",            "7:00 ‚Äì 8:00 PM ¬∑ session",            "bof","session"],
    [2,10,   1.5, "pm",  "Math Practice",           "8:00 ‚Äì 9:30 PM ¬∑ HW & classwork",    "bpm","practice"],
    [2,12,   1,   "pa",  "Arabic Practice",         "10:00 ‚Äì 11:00 PM ¬∑ HW & classwork",  "bpa","practice"],
    [2,13,   1,   "sl",  "Sleep",                   "11:00 PM onward",                     "bsl","sleep"],

    // ‚ïê‚ïê TUESDAY (start h=0 = 10AM) ‚Äî Online Day ‚ïê‚ïê
    // After Online Physics ‚Üí Physics Practice (1.5h) ‚úì before Fri Physics
    // Math Practice (1.5h) after iftar ‚úì before Wed Math (covers Mon Math session)
    // Offline English at 10PM (fixed by teacher)
    [3, 0,   5,   "op",  C[1]+" ¬∑ Full Lecture",    "10:00 AM ‚Äì 3:00 PM ¬∑ 5h",             "bop","online"],
    [3, 5,   1.5, "pp",  "Physics Practice",        "3:00 ‚Äì 4:30 PM ¬∑ HW & classwork",    "bpp","practice"],
    [3, 6.5, 0.5, "fr",  "üéØ Your Time",             "4:30 ‚Äì 5:00 PM ¬∑ use as you wish",    "bfr","free"],
    [3, 7,   2,   "ift", "üåô Iftar & Quran",        "5:00 ‚Äì 7:00 PM ¬∑ Family & recitation","bif","iftar"],
    [3, 9,   1.5, "pm",  "Math Practice",           "7:00 ‚Äì 8:30 PM ¬∑ covers Mon session", "bpm","practice"],
    [3,11,   1,   "pe",  "English Practice",        "9:00 ‚Äì 10:00 PM ¬∑ HW & grammar",     "bpe","practice"],
    [3,12,   1,   "of",  "Offline English",         "10:00 ‚Äì 11:00 PM ¬∑ session",          "bof","session"],
    [3,13,   1,   "sl",  "Sleep",                   "11:00 PM onward",                     "bsl","sleep"],

    // ‚ïê‚ïê WEDNESDAY (start h=2 = 12PM) ‚Äî Offline Day ‚ïê‚ïê
    // Offline Chem ‚Üí Chem Practice (1.5h) ‚úì before Thu Chem
    // Offline Math ‚Üí Math Practice (1.5h) ‚úì before next Math
    // Offline Arabic ‚Üí Arabic Practice goes to Thursday (before next Arabic)
    [4, 2,   3,   "of",  "Offline Chemistry",       "12:00 ‚Äì 3:00 PM ¬∑ Main session",      "bof","session"],
    [4, 5,   1.5, "pc",  "Chemistry Practice",      "3:00 ‚Äì 4:30 PM ¬∑ quick HW",           "bpc","practice"],
    [4, 6.5, 0.5, "fr",  "üéØ Your Time",             "4:30 ‚Äì 5:00 PM ¬∑ use as you wish",    "bfr","free"],
    [4, 7,   2,   "ift", "üåô Iftar & Quran",        "5:00 ‚Äì 7:00 PM ¬∑ Family & recitation","bif","iftar"],
    [4, 9,   1,   "of",  "Offline Math",            "7:00 ‚Äì 8:00 PM ¬∑ session",            "bof","session"],
    [4,10,   1,   "pm",  "Math Practice",           "8:00 ‚Äì 9:00 PM ¬∑ HW & classwork",    "bpm","practice"],
    [4,11,   1,   "of",  "Offline Arabic",          "9:00 ‚Äì 10:00 PM ¬∑ Session",           "bof","session"],
    [4,12,   1,   "pa",  "Arabic Practice",         "10:00 ‚Äì 11:00 PM ¬∑ HW & classwork",  "bpa","practice"],
    [4,13,   1,   "sl",  "Sleep",                   "11:00 PM onward",                     "bsl","sleep"],

    // ‚ïê‚ïê THURSDAY (start h=0 = 10AM) ‚Äî Online Day ‚ïê‚ïê
    // After Online Chem ‚Üí Chem Practice (1.5h) ‚úì before next Chem
    // Arabic Practice (1.5h) after iftar ‚úì covers Wed Arabic session (before Mon)
    // Offline English at 10PM (fixed)
    [5, 0,   5,   "oc",  C[0]+" ¬∑ Full Lecture",    "10:00 AM ‚Äì 3:00 PM ¬∑ 5h",             "boc","online"],
    [5, 5,   1.5, "pc",  "Chemistry Practice",      "3:00 ‚Äì 4:30 PM ¬∑ HW & classwork",    "bpc","practice"],
    [5, 6.5, 0.5, "fr",  "üéØ Your Time",             "4:30 ‚Äì 5:00 PM ¬∑ use as you wish",    "bfr","free"],
    [5, 7,   2,   "ift", "üåô Iftar & Quran",        "5:00 ‚Äì 7:00 PM ¬∑ Family & recitation","bif","iftar"],
    [5, 9,   1,   "pp",  "Physics Practice",        "7:00 ‚Äì 8:00 PM ¬∑ HW & classwork",    "bpp","practice"],
    [5,10,   1,   "pa",  "Arabic Practice",         "8:00 ‚Äì 9:00 PM ¬∑ covers Wed session", "bpa","practice"],
    [5,11,   1,   "pe",  "English Practice",        "9:00 ‚Äì 10:00 PM ¬∑ HW & grammar",     "bpe","practice"],
    [5,12,   1,   "of",  "Offline English",         "10:00 ‚Äì 11:00 PM ¬∑ session",          "bof","session"],
    [5,13,   1,   "sl",  "Sleep",                   "11:00 PM onward",                     "bsl","sleep"],

    // ‚ïê‚ïê FRIDAY (start h=2 = 12PM) ‚Äî Rest Day ‚ïê‚ïê
    // Online Physics (4h) 1-5PM ‚Üí Physics Practice (1.5h) after iftar ‚úì before Tue Physics
    // English Practice (1.5h) after physics practice ‚úì covers Sun/Tue English sessions
    [6, 2,   1,   "fr",  "üõãÔ∏è Rest / Light Review",  "12:00 ‚Äì 1:00 PM ¬∑ easy pace",        "bfr","free"],
    [6, 3,   4,   "op",  C[1]+" ¬∑ Full Lecture",    "1:00 PM ‚Äì 5:00 PM ¬∑ 4h",             "bop","online"],
    [6, 6.5, 0.5, "fr",  "üéØ Your Time",             "4:30 ‚Äì 5:00 PM ¬∑ use as you wish",    "bfr","free"],
    [6, 7,   2,   "ift", "üåô Iftar & Quran",        "5:00 ‚Äì 7:00 PM ¬∑ Family & recitation","bif","iftar"],
    [6, 9,   4,   "fr",  "üéØ Your Time",             "7:00 ‚Äì 11:00 PM ¬∑ use as you wish",   "bfr","free"],
    [6,13,   1,   "sl",  "Sleep",                   "11:00 PM onward",                     "bsl","sleep"],
  ];
}

// Wednesday is fully specified in makeData now ‚Äî no fix needed
function makeDataFixed(w){
  return makeData(w);
}

function buildTT(w){
  const data = makeDataFixed(w);
  const byDay = Array.from({length:7},()=>[]);
  data.forEach(r => byDay[r[0]].push({h:r[1],d:r[2],cls:r[3],title:r[4],sub:r[5],bc:r[6],bt:r[7]}));
  byDay.forEach(a => a.sort((x,y)=>x.h-y.h));

  const ROWS = 14;
  const sp = Array.from({length:7},()=>({}));
  let html = `<table class="tt"><thead><tr><th style="background:transparent;width:72px"></th>`;
  DAYS.forEach((n,i) => html += `<th><div class="th-d">${n}</div><div class="th-t">${DTYPE[i]}</div></th>`);
  html += `</tr></thead><tbody>`;

  for(let row=0; row<ROWS; row++){
    html += `<tr><td class="tc" style="height:${H}px">${HOURS[row]}</td>`;
    for(let d=0; d<7; d++){
      if(sp[d][row]) continue;

      // Before day start ‚Üí Sleep slot
      if(row < DS[d]){
        if(row === 0){
          // Span all pre-day hours as one sleep block
          const preSpan = DS[d];
          for(let r=1; r<preSpan; r++) sp[d][r]=true;
          html += `<td class="s sl" rowspan="${preSpan}" style="height:${preSpan*H}px">
            <div class="st">üò¥ Sleep</div>
            <div class="ss">Until ${DS[d]===2?'12:00 PM':'10:00 AM'} ¬∑ Ramadan night schedule</div>
            <span class="sb bsl">sleep</span>
          </td>`;
        }
        // else already spanned
        continue;
      }

      // Find slot that starts at this row
      const sl = byDay[d].find(s => Math.floor(s.h) === row);
      if(sl){
        const rs = Math.max(1, Math.round(sl.d));
        for(let r=row+1; r<row+rs; r++) sp[d][r]=true;
        const isSession = sl.bt === 'session' || sl.bt === 'online';
        const lockBadge = isSession
          ? `<span style="position:absolute;top:5px;right:7px;font-size:.55rem;color:rgba(255,100,100,.7);letter-spacing:.3px">üîí fixed</span>`
          : `<span style="position:absolute;top:5px;right:7px;font-size:.55rem;color:rgba(100,220,150,.6);letter-spacing:.3px">üîÑ</span>`;
        html += `<td class="s ${sl.cls}" rowspan="${rs}" style="height:${rs*H}px">
          ${(sl.bt==='session'||sl.bt==='online'||sl.bt==='practice') ? lockBadge : ''}
          <div class="st">${sl.title}</div>
          <div class="ss">${sl.sub}</div>
          ${sl.bt ? `<span class="sb ${sl.bc}">${sl.bt}</span>` : ''}
        </td>`;
      } else {
        html += `<td class="s fr" style="height:${H}px"><div class="st" style="font-size:.62rem;color:var(--muted)">‚Äì</div></td>`;
      }
    }
    html += `</tr>`;
  }
  html += `</tbody></table>`;
  document.getElementById('tt').innerHTML = html;
}

function show(w,btn){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('on'));
  btn.classList.add('on');
  currentWeek = w;
  buildTT(w);
  renderDayView(currentDay, w);
}

// Dot color per slot class
const dotColors = {
  oc:'#3ecf7a',op:'#4aa8f0',pc:'#2eb866',pp:'#3590d8',pm:'#9b6ef0',
  pa:'#d4843a',pe:'#c060e8',of:'#e08840',ift:'#f0bf30',sl:'#2a2650',
  fr:'#3a3660',rt:'#3a7a4a',qr:'#c9941e'
};

let currentDay = 0; // 0=Sat
let currentWeek = 1;

buildTT(1);
renderDayView(0,1);

// ‚ïê‚ïê VIEW SWITCHER ‚ïê‚ïê
function switchView(v){
  document.getElementById('btn-week').classList.toggle('on', v==='week');
  document.getElementById('btn-day').classList.toggle('on', v==='day');
  document.getElementById('week-view').classList.toggle('active', v==='week');
  document.getElementById('day-view').classList.toggle('active', v==='day');
  if(v==='day') renderDayView(currentDay, currentWeek);
}

function prevDay(){ currentDay=(currentDay+6)%7; renderDayView(currentDay,currentWeek); }
function nextDay(){ currentDay=(currentDay+1)%7; renderDayView(currentDay,currentWeek); }

// Format hour index to time string (h=0‚Üí10AM, h=8‚Üí6PM etc.)
function fmtH(h){
  const total = 10 + h;
  const hrs = Math.floor(total);
  const mins = Math.round((total - hrs)*60);
  const ampm = hrs < 12 ? 'AM' : 'PM';
  const h12 = hrs > 12 ? hrs-12 : hrs===0 ? 12 : hrs;
  return `${h12}:${mins.toString().padStart(2,'0')} ${ampm}`;
}

function renderDayView(d, w){
  const DNAMES = ["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"];
  const DTYPES = ["Offline Day","Free Day","Offline Day","Free Day","Offline Day","Free Day","Rest Day"];
  const DS_MAP = [2,0,2,0,2,0,2];
  document.getElementById('day-nav-label').textContent = DNAMES[d];
  document.getElementById('day-nav-sub').textContent =
    DTYPES[d] + ' ¬∑ Starts ' + (DS_MAP[d]===2 ? '12:00 PM' : '10:00 AM');

  // Get all slots for this day, detect & fix conflicts
  let raw = makeDataFixed(w).filter(s => s[0]===d).map(s=>({
    h:s[1], d:s[2], cls:s[3], title:s[4], sub:s[5], bc:s[6], bt:s[7]
  }));

  // Add sleep block for pre-day
  if(DS_MAP[d] > 0){
    raw.push({h:0, d:DS_MAP[d], cls:'sl', title:'üò¥ Sleep', sub:'Ramadan night schedule', bc:'bsl', bt:'sleep'});
  }
  raw.sort((a,b)=>a.h-b.h);

  // Conflict detection & shift
  const conflicts = [];
  for(let i=1; i<raw.length; i++){
    const prev = raw[i-1];
    const cur  = raw[i];
    const prevEnd = prev.h + prev.d;
    if(cur.h < prevEnd - 0.05){
      conflicts.push(`"${cur.title}" overlapped with "${prev.title}"`);
      raw[i] = {...cur, h: prevEnd, sub: cur.sub + ' ‚ü∂ shifted +1h'};
    }
  }

  const banner = document.getElementById('conflict-banner');
  if(conflicts.length){
    banner.classList.add('show');
    document.getElementById('conflict-msg').textContent = conflicts.join('; ');
  } else {
    banner.classList.remove('show');
  }

  // Render timeline
  let html = '';
  raw.forEach(sl => {
    const dot = dotColors[sl.cls] || '#555';
    const startStr = fmtH(sl.h);
    const endStr   = fmtH(sl.h + sl.d);
    html += `
    <div class="day-block">
      <div class="day-block-time">${startStr}<br><span style="color:var(--dim)">‚Üì</span><br>${endStr}</div>
      <div class="day-block-dot"><span style="background:${dot}"></span></div>
      <div class="day-block-card ${sl.cls}" style="margin-left:12px">
        <div class="dbc-title">${sl.title}</div>
        <div class="dbc-sub">${sl.sub}</div>
        ${sl.bt ? `<span class="dbc-badge ${sl.bc}">${sl.bt}</span>` : ''}
      </div>
    </div>`;
  });
  document.getElementById('day-timeline').innerHTML = html;
}
const prog={c3:0,c4:0,p3:0,p4:0};
const maxv={c3:5,c4:4,p3:6,p4:3};
function upd(k,delta){
  prog[k]=Math.max(0,Math.min(maxv[k],prog[k]+delta));
  document.getElementById(k+'f').style.width=(prog[k]/maxv[k]*100)+'%';
  document.getElementById(k+'t').textContent=prog[k]+'/'+maxv[k];
  const tot=Object.values(prog).reduce((a,b)=>a+b,0);
  document.getElementById('totf').style.width=(tot/18*100)+'%';
  document.getElementById('tott').textContent=tot+'/18';
}
[['c3b','c3'],['c4b','c4'],['p3b','p3'],['p4b','p4']].forEach(([el,k])=>{
  const e=document.getElementById(el);
  e.addEventListener('click',()=>upd(k,1));
  e.addEventListener('contextmenu',ev=>{ev.preventDefault();upd(k,-1);});
});
</script>
</body>
</html>
